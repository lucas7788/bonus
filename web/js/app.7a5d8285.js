(function(e){function t(t){for(var r,n,o=t[0],l=t[1],c=t[2],u=0,p=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&p.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var o=a[n];0!==s[o]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},n={app:0},s={app:0},i=[];function o(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-08c29c41":"784f4095","chunk-3207fe4e":"6263ac0a","chunk-c5240c0e":"67d01ba3","chunk-5e2cc4da":"30150226"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-3207fe4e":1,"chunk-c5240c0e":1,"chunk-5e2cc4da":1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var r="css/"+({}[e]||e)+"."+{"chunk-08c29c41":"31d6cfe0","chunk-3207fe4e":"ff9faa6a","chunk-c5240c0e":"a479a595","chunk-5e2cc4da":"8340c862"}[e]+".css",s=l.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var c=i[o],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===r||u===s))return t()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){c=p[o],u=c.getAttribute("data-href");if(u===r||u===s)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete n[e],d.parentNode.removeChild(d),a(i)},d.href=s;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){n[e]=0})));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,a){r=s[e]=[t,a]}));t.push(r[2]=i);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=o(e);var p=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(d);var a=s[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",p.name="ChunkLoadError",p.type=r,p.request=n,a[1](p)}s[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var d=u;i.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"0a1c":function(e,t,a){},1:function(e,t,a){e.exports=a("56d7")},2:function(e,t){},2395:function(e,t,a){},"2ca6":function(e,t,a){"use strict";var r=a("ff5c"),n=a.n(r);n.a},3:function(e,t){},"3e41":function(e,t,a){"use strict";var r=a("7a5f"),n=a.n(r);n.a},"3fb4":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home_header_wrap"},[a("h1",[e._v(e._s(e.$t("home")))]),a("div",{staticClass:"dropDown_wrap"},[a("Net-div"),a("Lang-div")],1)])},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lang"},[a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.isLocal)+" "),a("div",{staticClass:"ball_box el-icon-arrow-down"})]),a("el-dropdown-menu",{staticClass:"lang_zh",attrs:{slot:"dropdown","visible-arrow":!1,divided:!0},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"zh"}},[a("div",{staticClass:"openKG"},[e._v("中文")])]),a("el-dropdown-item",{attrs:{command:"en"}},[a("div",{staticClass:"openKG"},[e._v("English")])])],1)],1)],1)},i=[],o={filters:{langStyle:function(e){return"en"===e?"EN":"ZH"}},methods:{handleCommand:function(e){var t=this;t.$i18n.locale=e,localStorage.setItem("user_lang",e)}},computed:{isLocal:function(){return"en"===this.$i18n.locale?"English":"中文"}}},l=o,c=(a("f674"),a("2877")),u=Object(c["a"])(l,s,i,!1,null,"169265b7",null),p=u.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lang"},[a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s("testnet"===e.netType?"TestNet":"MainNet")+" "),a("div",{staticClass:"ball_box"})]),a("el-dropdown-menu",{staticClass:"lang_zh",attrs:{slot:"dropdown","visible-arrow":!1,divided:!0},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"mainnet"}},[a("div",{staticClass:"openKG"},[e._v("MainNet")])]),a("el-dropdown-item",{attrs:{command:"testnet"}},[a("div",{staticClass:"openKG"},[e._v("TestNet")])])],1)],1)],1)},h=[],m={data:function(){return{netType:""}},filters:{langStyle:function(e){return"en"===e?"EN":"ZH"}},methods:{handleCommand:function(e){var t=this;this.netType=e,this.$store.commit("CHANGE_NET_TYPE",this.netType),localStorage.setItem("netType",e),setTimeout((function(){t.$router.go(0)}),200)}},mounted:function(){this.netType=localStorage.getItem("netType")||"testnet",this.$store.commit("CHANGE_NET_TYPE",this.netType)}},f=m,v=(a("2ca6"),Object(c["a"])(f,d,h,!1,null,"7c90c766",null)),g=v.exports,b={components:{LangDiv:p,NetDiv:g}},y=b,w=(a("f6b5"),Object(c["a"])(y,r,n,!1,null,"694fb4e1",null));t["a"]=w.exports},"56d7":function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"UploadExcel",(function(){return H})),a.d(r,"getEventType",(function(){return W})),a.d(r,"startTransfer",(function(){return q})),a.d(r,"getHistory",(function(){return I})),a.d(r,"getBalance",(function(){return U})),a.d(r,"withDraw",(function(){return M})),a.d(r,"downloadFile",(function(){return V})),a.d(r,"queryTableData",(function(){return Y})),a.d(r,"queryTransferProgress",(function(){return K})),a.d(r,"getHistoryInfo",(function(){return J})),a.d(r,"terminTer",(function(){return Z}));a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var n=a("ade3"),s=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"home_layout"},[a("div",{staticClass:"header_wrap"},[a("Header-div")],1),a("div",{staticClass:"body_wrap"},[a("div",{staticClass:"left_nav_wrap"},[a("NavWrap-div")],1),a("div",{staticClass:"right_content_wrap"},[a("router-view")],1)])])])},o=[],l=(a("b0c0"),a("3fb4")),c=a("afcd"),u=a("7d55"),p={components:{HeaderDiv:l["a"],NavWrapDiv:c["a"],ContentDiv:u["default"]},data:function(){return{activeIndex:"/"}},methods:{handleSelect:function(e,t){console.log(e,t)}},watch:{$route:function(e){this.activeIndex="home"===e.name?"/":"/search"}},mounted:function(){}},d=p,h=(a("7c55"),a("6f31"),a("2877")),m=Object(h["a"])(d,i,o,!1,null,"5b059151",null),f=m.exports,v=(a("d3b7"),a("96cf"),a("1da1")),g=a("8c4f"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"top_wrap"},[a("div",{staticClass:"left"},[a("div",{staticClass:"top_select"},[a("div",{staticClass:"select_excel"},[a("p",[e._v("Excel文件 (.xsl,.xlsx)")]),a("p",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.$refs.upload.click()}}},[e._v("导入文件")])],1),a("p",{staticClass:"file_name"},[e._v(e._s(e.fileName))]),a("input",{ref:"upload",staticClass:"outputlist_upload",staticStyle:{display:"none"},attrs:{type:"file",accept:".xls,.xlsx"}})]),a("div",{staticClass:"down_tep"},[a("el-button",{on:{click:e.download}},[e._v("下载模板")])],1)]),a("div",{staticClass:"from_area"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"事件名称",prop:"eventType"}},[a("el-input",{attrs:{type:"eventType"},model:{value:e.ruleForm.eventType,callback:function(t){e.$set(e.ruleForm,"eventType",t)},expression:"ruleForm.eventType"}})],1),a("el-form-item",{attrs:{label:"币种"}},[a("el-radio-group",{model:{value:e.tokenType,callback:function(t){e.tokenType=t},expression:"tokenType"}},[a("el-radio",{attrs:{label:"ONT"}},[e._v("ONT")]),a("el-radio",{attrs:{label:"ONG"}},[e._v("ONG")]),a("el-radio",{attrs:{label:"ERC20"}},[e._v("ERC20")]),a("el-radio",{attrs:{label:"OEP4"}},[e._v("OEP4")])],1)],1),e.showF.isContAdd?a("el-form-item",{attrs:{label:"合约地址",prop:"contractAddress"}},[a("el-input",{model:{value:e.ruleForm.contractAddress,callback:function(t){e.$set(e.ruleForm,"contractAddress",t)},expression:"ruleForm.contractAddress"}})],1):e._e()],1)],1),a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"primary",loading:e.upLoading},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("上传数据")])],1)]),a("div",{staticClass:"right"},[a("div",{staticClass:"select_wrap"},[a("el-select",{attrs:{placeholder:"选择历史事件名称"},on:{change:function(t){return e.handlerSelect(e.historyAction)}},model:{value:e.historyAction,callback:function(t){e.historyAction=t},expression:"historyAction"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),a("p",[a("el-row",[a("el-col",{attrs:{span:4}},[e._v("总额：")]),a("el-col",{attrs:{span:20}},[e._v(e._s(e.TotalSum))])],1)],1),a("p",[a("el-row",[a("el-col",{attrs:{span:4}},[e._v("预估手续费：")]),a("el-col",{attrs:{span:20}},[e._v(e._s(e.EstimateFee))])],1)],1),a("p",[a("el-row",[a("el-col",{attrs:{span:4}},[e._v("钱包地址：")]),a("el-col",{attrs:{span:20}},[e._v(e._s(e.accountAddress))])],1)],1),a("p",[a("el-row",[a("el-col",{attrs:{span:4}},[e._v("发放笔数：")]),a("el-col",{attrs:{span:20}},[e._v(e._s(e.tableData.length))])],1)],1),a("p",{staticStyle:{"margin-bottom":"20px"}},[a("el-row",[a("el-col",{attrs:{span:4}},[e._v("地址余额：")]),a("el-col",{attrs:{span:20}},[e._v(e._s(e.Balance)+" "),a("el-button",{staticStyle:{"margin-left":"50px"},attrs:{loading:e.balanceLoading,size:"small"},on:{click:function(t){return e.getBalance()}}},[e._v("刷新余额")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",loading:e.withdrawLoading},on:{click:e.openAddressModel}},[e._v("取出余额")])],1)],1)],1)])]),a("p",{staticClass:"tips"},[e._v("注意：请仔细核对数据后，再开始转账")]),a("div",{staticClass:"table_wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize),border:""}},[a("el-table-column",{attrs:{index:e.sort_index,align:"center",type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"Address",label:"Address"}}),a("el-table-column",{attrs:{prop:"Amount",label:"Amount",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.Amount)+" ")]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"total, prev, pager, next",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e.accountAddress?a("div",[a("el-button",{attrs:{loading:e.transferLoading,type:"primary"},on:{click:function(t){return e.handlerStart()}}},[e._v("开始转账")])],1):e._e()])},y=[],w=(a("caad"),a("d81d"),a("b680"),a("ac1f"),a("2532"),a("5319"),a("2909")),T=a("1146"),_=a.n(T),C=(a("901e"),a("2f62"));function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F={name:"home",data:function(){return{billList:[],tableData:[],fileName:"",ruleForm:{contractAddress:"",eventType:""},tokenType:"ONT",rules:{contractAddress:[{pattern:/\S/,required:!0,message:"请输入合约地址",trigger:"change"}],eventType:[{min:2,max:18,pattern:/^[\S]{2,18}$/,required:!0,message:"长度为2～18个字符，且不能有空格!",trigger:"change"}]},showF:{isWallet:!0,isPassword:!0,isContAdd:!1,isPri:!1},currentPage:1,pageSize:10,accountAddress:"",historyAction:"",EstimateFee:0,TotalSum:0,Balance:0,upLoading:!1,balanceLoading:!1,transferLoading:!1,withdrawLoading:!1,tableLoading:!1}},methods:{download:function(){window.open("http://172.168.3.174/template.xlsx")},readExcel:function(e){var t=this,a=e.target.files;if(a.length<=0)return!1;if(!/\.(xls|xlsx)$/.test(a[0].name.toLowerCase()))return this.$Message.error("上传格式不正确，请上传xls或者xlsx格式"),!1;t.fileName=a[0].name;var r=new FileReader;r.onload=function(a){try{var r=a.target.result,n=_.a.read(r,{type:"binary"}),s=n.SheetNames[0],i=_.a.utils.sheet_to_json(n.Sheets[s]);t.billList=[];for(var o=0;o<i.length;o++){var l={address:i[o].address,amount:i[o].amount};t.billList.push(l)}t.billList.map((function(e){e.amount=t.getFullNum(e.amount)}))}catch(e){return!1}},r.readAsBinaryString(a[0])},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.currentPage=1,this.pageSize=e},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.currentPage=e},submitForm:function(e){var t=this;if(this.billList.length<=0)return this.$message({type:"error",message:"请上传一个 Excel 文件!"});this.$refs[e].validate((function(e){if(e)return t.options.includes(t.ruleForm.eventType)?t.$message({type:"error",message:"检测到有重复事件名称，请重新输入！"}):(t.upLoading=!0,t.sendExcel())}))},sendExcel:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,s,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.UploadExcel(this.dataParams);case 2:if(t=e.sent,this.upLoading=!1,1===t.Error){e.next=7;break}return a=t.Result||t.Desc,e.abrupt("return",this.$message.error(a));case 7:return r=t.Result,n=r.BillList,s=r.EstimateFee,i=r.Admin,o=r.Sum,l=r.AdminBalance,this.tableData=Object(w["a"])(n),this.EstimateFee=s,this.accountAddress=i,this.TotalSum=o,this.Balance=l,this.$store.dispatch("getEventList"),this.getHistory="",e.abrupt("return",this.$message.success("上传成功！"));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sort_index:function(e){return e+1+(this.currentPage-1)*this.pageSize},getFullNum:function(e){if(isNaN(e))return e;var t=""+e;return/e/i.test(t)?e.toFixed(18).replace(/\.?0+$/,""):e+""},handlerSelect:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=22;break}return a={id:1,jsonrpc:"2.0",method:"getdatabyeventtype",params:{eventType:[t]}},e.prev=2,this.tableLoading=!0,e.next=6,this.$http.getHistory(a);case 6:r=e.sent,this.tableLoading=!1,n=r.Result[0],this.tableData=Object(w["a"])(n.TxInfo),this.EstimateFee=n.EstimateFee,this.accountAddress=n.Admin,this.TotalSum=n.Sum,this.Balance=n.AdminBalance,this.ruleForm.eventType=n.EventType,this.ruleForm.contractAddress=n.ContractAddress,this.tokenType=n.TokenType,e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](2),this.tableLoading=!1;case 22:case"end":return e.stop()}}),e,this,[[2,19]])})));function t(t){return e.apply(this,arguments)}return t}(),handlerStart:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={id:1,jsonrpc:"2.0",method:"transfer",params:{eventType:this.ruleForm.eventType}},this.transferLoading=!0,e.next=4,this.$http.startTransfer(t);case 4:if(a=e.sent,this.transferLoading=!1,r=a.Desc,n=a.Error,a.Result,"SUCCESS"===r&&1===n){e.next=9;break}return e.abrupt("return",this.$message({type:"error",message:r}));case 9:this.$message({type:"success",message:"已开始转账"});case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBalance:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.accountAddress){e.next=2;break}return e.abrupt("return",this.$message({type:"error",message:"选择一个事件名称!"}));case 2:return this.balanceLoading=!0,e.next=5,this.$http.getBalance(this.ruleForm.eventType);case 5:if(t=e.sent,a=t.Desc,r=t.Error,n=t.Result,this.balanceLoading=!1,"SUCCESS"===a||1===r){e.next=10;break}return e.abrupt("return",this.$message({type:"error",message:a}));case 10:return this.Balance=n,e.abrupt("return",this.$message({type:"success",message:"查询成功"}));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openAddressModel:function(){var e=this;if(!this.accountAddress)return this.$message({type:"error",message:"选择一个事件名称!"});this.$prompt("请输入地址","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"请输入地址"}).then((function(t){var a=t.value,r={id:1,jsonrpc:"2.0",method:"withdraw",params:{eventType:e.ruleForm.eventType,address:a}};console.log(r),e.withdrawLoading=!0,e.withdraw(r)})).catch((function(){e.$message({type:"info",message:"取消输入"})}))},withdraw:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.withDraw(t);case 2:if(a=e.sent,console.log(a),this.withdrawLoading=!1,r=a.Desc,n=a.Error,a.Result,"SUCCESS"===r||1===n){e.next=8;break}return e.abrupt("return",this.$message({type:"error",message:r}));case 8:this.$message({type:"success",message:"取出成功，请稍后查看！"});case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this;this.$refs.upload.addEventListener("change",function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.readExcel(a);case 2:e.$refs.upload.value="";case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},watch:{tokenType:function(e){switch(e){case"ERC20":this.showF.isWallet=!1,this.showF.isPassword=!1,this.showF.isContAdd=!0,this.showF.isPri=!0;break;case"OEP4":this.showF.isWallet=!0,this.showF.isPassword=!0,this.showF.isContAdd=!0,this.showF.isPri=!1;break;default:this.showF.isWallet=!0,this.showF.isPassword=!0,this.showF.isContAdd=!1,this.showF.isPri=!1;break}}},computed:k({},Object(C["b"])({options:function(e){return e.eventTypeList}}),{dataParams:function(){return{id:1,jsonrpc:"2.0",method:"uploadexecl",params:k({billList:Object(w["a"])(this.billList)},this.ruleForm,{tokenType:this.tokenType})}}})},S=F,E=(a("6449"),Object(h["a"])(S,b,y,!1,null,"276fc9fc",null)),O=(E.exports,a("323e")),$=a.n(O);a("a5d8");$.a.configure({showSpinner:!1}),s["default"].use(g["a"]);var j=[{path:"/",name:"ContentWrap",component:function(){return Promise.resolve().then(a.bind(null,"7d55"))}},{path:"/search",name:"search",component:function(){return Promise.all([a.e("chunk-08c29c41"),a.e("chunk-c5240c0e")]).then(a.bind(null,"2d3b"))}},{path:"/layout",name:"Layout",component:function(){return a.e("chunk-5e2cc4da").then(a.bind(null,"88e9"))}},{path:"/history",name:"HistoryWrap",component:function(){return Promise.all([a.e("chunk-08c29c41"),a.e("chunk-3207fe4e")]).then(a.bind(null,"9490"))}},{path:"*",redirect:"/"}],P=new g["a"]({mode:"history",routes:j});P.beforeEach(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,a,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:$.a.start(),r();case 2:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()),P.afterEach((function(){$.a.done()}));var A=g["a"].prototype.push;g["a"].prototype.push=function(e){return A.call(this,e).catch((function(e){return e}))};var L=P,D=(a("99af"),a("bc3a")),N=a.n(D),R=a("5c96"),B=a.n(R),z=N.a.create({baseURL:"http://localhost:20327",timeout:3e4});z.interceptors.request.use((function(e){return e.headers={"Content-Type":"application/json"},e}),(function(e){return console.log(e),Promise.reject(e)})),z.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){var t=e.response;return console.error("err"+e),t?400===t.status&&Object(R["Message"])({message:t.data.desc,type:"error"}):Object(R["Message"])({message:"Api Error, Please Try Again!",type:"error"}),Promise.reject(e)}));var G=z;function H(e){return G({url:"/api/v1/uploadexecl",method:"post",data:e})}function W(){return G({url:"/api/v1/getevtty",method:"GET"})}function q(e){return G({url:"/api/v1/transfer",method:"post",data:e})}function I(e){return G({url:"/api/v1/getdatabyeventtype",method:"post",data:e})}function U(e){return G({url:"/api/v1/getadminbalance/".concat(e.eventType,"/").concat(e.netType),method:"GET"})}function M(e){return G({url:"/api/v1/withdraw",method:"post",data:e})}function V(e){return G({url:"/api/v1/data/download-url?password=".concat(e.password,"&fileHash=").concat(e.fileHash),method:"GET"})}function Y(e){return G({url:"/api/v1/getexcelparam/".concat(e.eventType,"/").concat(e.netType,"/").concat(e.pageNum,"/").concat(e.pageSize),method:"GET"})}function K(e){return G({url:"/api/v1/gettransferprogress/".concat(e.eventType,"/").concat(e.netType),method:"GET"})}function J(e){return G({url:"/api/v1/gettxinfo/".concat(e.eventType,"/").concat(e.netType,"/").concat(e.pageNum,"/").concat(e.pageSize,"/").concat(e.status),method:"GET"})}function Z(e){return G({url:"/api/v1/stop",method:"post",data:e})}s["default"].use(C["a"]);var Q=new C["a"].Store({state:{eventTypeList:[],netType:null,successEvent:null},mutations:{CHANGE_EVENT_LIST:function(e,t){e.eventTypeList=Object(w["a"])(t)},CHANGE_NET_TYPE:function(e,t){e.netType=t},CHANGE_SUCCESS_EVENT_TYPE:function(e,t){e.successEvent=t}},actions:{getEventList:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,W(a);case 3:n=e.sent,r("CHANGE_EVENT_LIST",Object(w["a"])(n.Result));case 5:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},modules:{}}),X=(a("0fae"),a("b2d6")),ee=a.n(X),te=a("f0d9"),ae=a.n(te),re=a("4897"),ne=a.n(re),se=(a("b059"),{home:"Bifröst - Your blockchain batch transfer tool v2.0",layout:{nav1:"Token Transfer",nav2:"Records"},wraps:{oneTips:"Fill in the event information",enentName:"Event name",tokenType:"Token type",contr:"Token contract address",coinPlace:"-- Select currency --",twoTips:"Upload distribution file",template:"Download format template",filePlace:"Browse file (xsl, xlsx)",fileTitle:"Import file",totalAmout:"Total sum",transFee:"Estimate transaction fee",feeType:"Transaction fee type",totalTrans:"Total transactions",noData:"No Data",threeTips:"Execute batch distribution",saveAdd:"Wallet top-up address",totalSum:"Token distribution sum",totalfeesum:"Transaction fee sum",currentBal:"Current balance",refreBa:"Refresh",withDrew:"Withdraw",startTrans:"Execute",orTip:"Or select existing data",orTitle:"Historical event data"},dialog:{mainTitle:"Withdraw balance",subTitle:"Enter withdrawal address",confirm:"Confirm",cancal:"Cancel"},history:{status:"Status",query:"Query",totlalTrasn:"Total transactions:",successsTras:"Successful transactions:",failTrans:"Failed transactions:",refer:"Recommence distribution",adminBa:"Balance",exports:"Export (xls.)",termina:"Terminate the transfer"},common:{evtStatus1:"In progress",evtStatus2:"Done",evtStatus3:"Not started",evtStatus4:"Terminating",allStatus:"All",notGener:"Transactions not generated",generFail:"Failed to generate transaction",sendFail:"Failed transfers",inpro:"In progress",failSend:"Failed transactions",sucSend:"Confirmed transactions"}}),ie={home:"Bifröst - 区块链批量转账工具 v2.0",layout:{nav1:"代币发放",nav2:"历史记录"},wraps:{oneTips:"请填写本次发放任务的基本信息",enentName:"任务名称",tokenType:"发放币种",contr:"代币合约地址",coinPlace:"-- 选择币种 --",twoTips:"请上传发放明细文件",template:"发放明细模板",filePlace:"浏览文件（xsl, xlsx）",fileTitle:"请导入发放明细",totalAmout:"发放总额",transFee:"预估手续费",feeType:"手续费种类",totalTrans:"发放笔数",noData:"暂无数据",threeTips:"转入需要发放的币种",saveAdd:"需要批量发放的币种转入此地址",totalSum:"需要充值发放币种总额",totalfeesum:"需充值手续费总额",currentBal:"当前地址余额",refreBa:"刷新余额",withDrew:"提取余额",startTrans:"开始转账",orTip:"或者选择已有数据",orTitle:"历史事件数据"},dialog:{mainTitle:"提取余额",subTitle:"请输入地址",confirm:"确 定",cancal:"取 消"},history:{status:"状态",query:"查询",totlalTrasn:"总交易笔数：",successsTras:"交易成功：",failTrans:"交易失败：",refer:"重新执行",adminBa:"管理员地址余额",exports:"导出 Excel",termina:"终止转账"},common:{evtStatus1:"执行中",evtStatus2:"已完成",evtStatus3:"未开始",evtStatus4:"终止中",allStatus:"所有状态",notGener:"未构造交易",generFail:"构造交易失败",sendFail:"发送失败",inpro:"转账进行中",failSend:"交易失败",sucSend:"交易成功"}},oe=a("a925"),le=a("4eb5"),ce=a.n(le);function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}s["default"].use(B.a),s["default"].config.productionTip=!1,s["default"].use(oe["a"]),s["default"].use(ce.a),s["default"].prototype.$http=r;var de=new oe["a"]({locale:localStorage.getItem("user_lang")||"en",messages:{zh:pe({},ie,{},ae.a),en:pe({},se,{},ee.a)}});ne.a.i18n((function(e,t){return de.t(e,t)})),new s["default"]({router:L,store:Q,i18n:de,render:function(e){return e(f)}}).$mount("#app")},6129:function(e,t,a){"use strict";var r=a("0a1c"),n=a.n(r);n.a},6449:function(e,t,a){"use strict";var r=a("dea7"),n=a.n(r);n.a},"6f31":function(e,t,a){"use strict";var r=a("e19e"),n=a.n(r);n.a},"7a0a":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{ref:"DialogRuleForm",attrs:{"before-close":e.handleClose,title:e.$t("dialog.mainTitle"),visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{rules:e.rules,model:e.ruleForm}},[a("el-form-item",{attrs:{label:e.$t("dialog.subTitle"),"label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{round:""},on:{click:e.handleClose}},[e._v(e._s(e.$t("dialog.cancal")))]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{round:"",type:"primary",loading:e.Loading},on:{click:e.submitForm}},[e._v(e._s(e.$t("dialog.confirm")))])],1)],1)],1)},n=[],s=(a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("ade3")),i=(a("96cf"),a("1da1"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={props:{dialogFormVisible:{type:Boolean,default:!1},withdrawData:{type:Object,default:function(){return{eventType:"",netType:"",tokenType:""}}}},data:function(){return{Loading:!1,rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}]},ruleForm:{address:""},formLabelWidth:"160px"}},methods:{handleClose:function(e){this.ruleForm.address="",this.$emit("colseFn",!1)},submitForm:function(){if(!new RegExp(/\S/).test(this.ruleForm.address))return this.$message({type:"error",message:"Please enter the correct address!"});this.withdraw()},withdraw:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={id:1,jsonrpc:"2.0",method:"getdatabyeventtype",params:l({},this.withdrawData,{address:this.ruleForm.address})},console.log(t),this.Loading=!0,e.prev=3,e.next=6,this.$http.withDraw(t);case 6:if(a=e.sent,console.log(a),r=a.Desc,n=a.Error,a.Result,this.Loading=!1,"SUCCESS"===r||1===n){e.next=13;break}return this.handleClose(),e.abrupt("return",this.$message({type:"error",message:r}));case 13:this.$message({type:"success",message:"Take out successfully, please check later!"}),this.handleClose(),e.next=22;break;case 17:return e.prev=17,e.t0=e["catch"](3),this.Loading=!1,this.handleClose(),e.abrupt("return",this.$message({type:"error",message:e.t0}));case 22:case"end":return e.stop()}}),e,this,[[3,17]])})));function t(){return e.apply(this,arguments)}return t}()}},u=c,p=(a("6129"),a("2877")),d=Object(p["a"])(u,r,n,!1,null,"b670052e",null);t["a"]=d.exports},"7a5f":function(e,t,a){},"7b88":function(e,t,a){},"7c55":function(e,t,a){"use strict";var r=a("2395"),n=a.n(r);n.a},"7d55":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"content_wrap_layout"},[a("div",{staticClass:"step1_wrap"},[e._m(0),a("div",{staticClass:"subTitle"},[a("span",[e._v(e._s(e.$t("wraps.oneTips")))])]),a("div",{staticClass:"form_area"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"190px","hide-required-asterisk":!0}},[a("el-form-item",{attrs:{label:e.$t("wraps.enentName")+" *",prop:"eventType"}},[a("el-input",{model:{value:e.ruleForm.eventType,callback:function(t){e.$set(e.ruleForm,"eventType",t)},expression:"ruleForm.eventType"}})],1),a("el-form-item",{attrs:{label:e.$t("wraps.tokenType")+" *",prop:"tokenType"}},[a("el-select",{attrs:{placeholder:e.$t("wraps.coinPlace")},model:{value:e.ruleForm.tokenType,callback:function(t){e.$set(e.ruleForm,"tokenType",t)},expression:"ruleForm.tokenType"}},[a("el-option",{attrs:{label:"ONT",value:"ONT"}}),a("el-option",{attrs:{label:"ONG",value:"ONG"}}),a("el-option",{attrs:{label:"ERC20",value:"ERC20"}}),a("el-option",{attrs:{label:"OEP4",value:"OEP4"}})],1)],1),e.showTran?a("el-form-item",{attrs:{label:e.$t("wraps.contr"),prop:"contractAddress"}},[a("el-input",{model:{value:e.ruleForm.contractAddress,callback:function(t){e.$set(e.ruleForm,"contractAddress",t)},expression:"ruleForm.contractAddress"}})],1):e._e()],1)],1),a("div",{staticClass:"his_title"},[e._v(" "+e._s(e.$t("wraps.orTip"))+" ")]),a("div",{staticClass:"history_ele"},[a("div",{staticClass:"label_title"},[e._v(e._s(e.$t("wraps.orTitle")))]),a("div",{staticClass:"actions_areas"},[a("el-select",{attrs:{filterable:"",placeholder:"Please select history event name",clearable:""},on:{change:e.handlerChanges,clear:e.clearSelect},model:{value:e.currentEvent,callback:function(t){e.currentEvent=t},expression:"currentEvent"}},e._l(e.eventTypeList,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)])]),a("div",{staticClass:"step2_wrap"},[e._m(1),a("div",{staticClass:"subTitle"},[a("span",[e._v(e._s(e.$t("wraps.twoTips")))]),a("span",{staticClass:"template_btn",on:{click:e.download}},[e._v(e._s(e.$t("wraps.template")))])]),a("div",{staticClass:"form_area"},[a("div",{staticClass:"ele_item"},[a("div",{staticClass:"lable_title"},[e._v(e._s(e.$t("wraps.fileTitle")))]),a("div",{staticClass:"input_area"},[a("div",{staticClass:"input_temp"},[e.fileName?a("div",{staticClass:"file_wraps"},[a("span",{staticClass:"file_name"},[e._v(e._s(e.fileName))]),a("span",{staticClass:"clearFileBtn",on:{click:function(t){return t.stopPropagation(),e.clearFile(t)}}},[e._v("x")])]):a("span",{staticClass:"placehodel",on:{click:function(t){return t.stopPropagation(),e.submitForm(t)}}},[e._v(e._s(e.$t("wraps.filePlace")))])]),a("span",{staticClass:"upload_icon",on:{click:function(t){return t.stopPropagation(),e.submitForm(t)}}})]),a("input",{ref:"upload",staticClass:"outputlist_upload",staticStyle:{display:"none"},attrs:{type:"file",accept:".xls,.xlsx"}})]),a("div",{staticClass:"ele_item",staticStyle:{"margin-top":"26px"}},[a("div",{staticClass:"table"},[a("div",{staticClass:"table-tr"},[a("div",{staticClass:"table-th"},[a("div",{staticClass:"data_ele"},[a("span",{staticClass:"tbTitle"},[e._v(" "+e._s(e.$t("wraps.totalAmout"))+": ")]),e.TotalCoin?a("span",{staticClass:"all_width"},[e._v(e._s(e.TotalCoin))]):a("span",{staticClass:"all_width"},[e._v(e._s(e.$t("wraps.noData")))])])]),a("div",{staticClass:"table-th"},[a("div",{staticClass:"data_ele"},[a("span",{staticClass:"tbTitle"},[e._v(" "+e._s(e.$t("wraps.transFee"))+": ")]),e.TotalFee?a("span",{staticClass:"all_width"},[e._v(e._s(e.TotalFee))]):a("span",{staticClass:"all_width"},[e._v(e._s(e.$t("wraps.noData")))])])]),a("div",{staticClass:"table-th"},[a("div",{staticClass:"data_ele"},[a("span",{staticClass:"tbTitle"},[e._v(" "+e._s(e.$t("wraps.feeType"))+": ")]),e.isShowTypeFee?a("span",[e._v(e._s("ERC20"===e.changeForm.tokenType?"ETH":"ONG"))]):a("span",{staticClass:"all_width"},[e._v(e._s(e.$t("wraps.noData")))])])]),a("div",{staticClass:"table-th"},[a("div",{staticClass:"data_ele"},[a("span",{staticClass:"tbTitle"},[e._v(" "+e._s(e.$t("wraps.totalTrans"))+": ")]),e.TotalData?a("span",{staticClass:"all_width"},[e._v(e._s(e.TotalData))]):a("span",{staticClass:"all_width"},[e._v(e._s(e.$t("wraps.noData")))])])])])])])]),a("div",{staticClass:"table_wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"Index",align:"center",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+(e.currentPage-1)*e.pageSize+1)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"address",label:"Address"}}),a("el-table-column",{attrs:{prop:"amount",label:"Amount",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.amount)+" ")]}}])})],1),a("div",{staticClass:"ont-page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.TotalData},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),a("div",{staticClass:"step3_wrap"},[e._m(2),a("div",{staticClass:"subTitle"},[a("span",[e._v(e._s(e.$t("wraps.threeTips")))])]),a("div",{staticClass:"form_area"},[a("div",{staticClass:"ele_item"},[a("div",{staticClass:"lable_title"},[e._v(" "+e._s(e.$t("wraps.saveAdd"))+" ")]),a("div",{staticClass:"input_area"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tokenAddress,expression:"tokenAddress"}],attrs:{type:"text",disabled:"",placeholder:""},domProps:{value:e.tokenAddress},on:{input:function(t){t.target.composing||(e.tokenAddress=t.target.value)}}})])]),a("div",{staticClass:"ele_item"},[a("div",{staticClass:"lable_title"},[e._v(" "+e._s(e.$t("wraps.totalSum"))+" ")]),a("div",{staticClass:"input_area"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.TotalCoin,expression:"TotalCoin"}],attrs:{type:"text",disabled:"",placeholder:""},domProps:{value:e.TotalCoin},on:{input:function(t){t.target.composing||(e.TotalCoin=t.target.value)}}})])]),a("div",{staticClass:"ele_item"},[a("div",{staticClass:"lable_title"},[e._v(" "+e._s(e.$t("wraps.totalfeesum"))+" ")]),a("div",{staticClass:"input_area"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.TotalFee,expression:"TotalFee"}],attrs:{type:"text",disabled:"",placeholder:""},domProps:{value:e.TotalFee},on:{input:function(t){t.target.composing||(e.TotalFee=t.target.value)}}})])]),a("div",{staticClass:"ele_item balance_wraps"},[a("div",{staticClass:"lable_title"},[e._v(" "+e._s(e.$t("wraps.currentBal"))+" ")]),e.AdminBalance?a("div",{staticClass:"input_area balances"},e._l(e.AdminBalance,(function(t,r){return a("div",{key:r,staticClass:"balanceType"},[a("div",{staticClass:"btype"},[e._v(e._s(r)+": "+e._s(t))]),a("span",{staticClass:"depl_btn",on:{click:function(a){return e.withdrew(r,t)}}},[e._v(" "+e._s(e.$t("wraps.withDrew")))])])})),0):a("div",{staticClass:"no_tems"}),a("div",{staticClass:"action_area"},[a("span",{staticClass:"ref_btn",on:{click:e.getBalance}},[e._v(e._s(e.$t("wraps.refreBa")))])])])])]),a("div",{staticClass:"starts_btn",on:{click:e.handlerStart}},[e._v(" "+e._s(e.$t("wraps.startTrans"))+" ")]),a("Dialog-div",{attrs:{dialogFormVisible:e.dialogFormVisible,withdrawData:e.withdrawData},on:{colseFn:e.handlerCloseDialog}})],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainTitle"},[a("h2",[e._v("Step 1")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainTitle"},[a("h2",[e._v("Step 2")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainTitle"},[a("h2",[e._v("Step 3")])])}],s=(a("a4d3"),a("4de4"),a("4160"),a("d81d"),a("b0c0"),a("b680"),a("e439"),a("dbb4"),a("b64b"),a("ac1f"),a("5319"),a("498a"),a("159b"),a("96cf"),a("1da1")),i=a("2909"),o=a("ade3"),l=a("1146"),c=a.n(l),u=a("2f62"),p=a("7a0a");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={components:{DialogDiv:p["a"]},computed:h({showTran:function(){return"ERC20"===this.ruleForm.tokenType||"OEP4"===this.ruleForm.tokenType}},Object(u["b"])({netType:function(e){return e.netType},eventTypeList:function(e){return e.eventTypeList}}),{dataParams:function(){var e=h({},this.ruleForm);return e.eventType=e.eventType.trim(),{id:1,jsonrpc:"2.0",method:"uploadexecl",params:h({billList:Object(i["a"])(this.billList)},e,{netType:this.netType})}}}),data:function(){return{dialogFormVisible:!1,tableLoading:!1,tableData:[],isShowTypeFee:!1,fullscreenLoading:!1,ruleForm:{eventType:"",tokenType:"",contractAddress:""},rules:{eventType:[{min:2,max:18,pattern:/^[^\ \_]{2,18}$/,required:!0,message:"2 to 18 characters, spaces and underscores are not allowed!",trigger:"change"}],tokenType:[{required:!0,message:"Please select Token Type",trigger:"change"}],contractAddress:[{pattern:/\S/,required:!0,message:"Please enter contract address",trigger:"change"}]},fileName:"",billList:[],AdminBalance:null,tokenAddress:"",TotalCoin:"",TotalFee:"",TotalData:0,changeForm:{eventType:"",tokenType:"",contractAddress:""},currentPage:1,pageSize:10,pageNum:1,withdrawData:{},currentEvent:""}},methods:{handlerChanges:function(){if(!this.currentEvent)return this.resetData();this.currentPage=1;var e={eventType:this.currentEvent,netType:this.netType,pageNum:1,pageSize:this.pageSize};this.getTableData(e,!0)},clearFile:function(){this.fileName="",this.$refs.upload.value=""},withdrew:function(e,t){if(0==t)return this.$message({type:"error",message:"Current balance is 0"});this.withdrawData={eventType:this.currentEvent,netType:this.netType,tokenType:e},this.dialogFormVisible=!0},handlerCloseDialog:function(e){this.dialogFormVisible=e,this.getBalance()},download:function(){window.open("./template.xlsx","_blank")},submitForm:function(){var e=this;this.$refs["ruleForm"].validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}e.$refs.upload.click(),t.next=6;break;case 4:return console.log("error submit!!"),t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()},getFullNum:function(e){if(isNaN(e))return e;var t=""+e;return/e/i.test(t)?e.toFixed(18).replace(/\.?0+$/,""):e+""},readExcel:function(e){var t=this,a=this,r=e.target.files;if(r.length<=0)return!1;if(!/\.(xls|xlsx)$/.test(r[0].name.toLowerCase()))return this.$Message.error("The upload format is incorrect. Please upload a file in xls or xlsx format!"),!1;a.fileName=r[0].name;var n=new FileReader;n.onload=function(r){try{var n=r.target.result,s=c.a.read(n,{type:"binary"}),i=s.SheetNames[0],o=c.a.utils.sheet_to_json(s.Sheets[i]);a.billList=[];for(var l=0;l<o.length;l++)if(o[l].address&&o[l].amount){var u={address:o[l].address,amount:o[l].amount};a.billList.push(u)}a.billList.map((function(e){e.amount=a.getFullNum(e.amount)})),t.sendExcel()}catch(e){return!1}},n.readAsBinaryString(r[0])},sendExcel:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,s,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.fullscreenLoading=!0,e.prev=1,e.next=4,this.$http.UploadExcel(this.dataParams);case 4:if(t=e.sent,console.log("apires",t),this.fullscreenLoading=!1,1===t.Error){e.next=11;break}return a=t.Result||t.Desc,this.fileName="",e.abrupt("return",this.$message.error(a));case 11:return this.isShowTypeFee=!0,r=t.Result,r.bill_list,r.token_type,n=r.admin,s=r.estimate_fee,i=r.Sum,o=r.AdminBalance,l=r.Total,this.tokenAddress=n,this.TotalFee=s,this.TotalCoin=i,this.AdminBalance=o,this.TotalData=l,this.changeForm=h({},this.ruleForm),this.getTableData({eventType:this.changeForm.eventType,netType:this.netType,pageNum:this.pageNum,pageSize:this.pageSize}),e.abrupt("return",this.$message.success("Uploaded successfully!"));case 23:e.prev=23,e.t0=e["catch"](1),this.fullscreenLoading=!1;case 26:case"end":return e.stop()}}),e,this,[[1,23]])})));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.currentPage=e,this.getTableData({eventType:this.changeForm.eventType,netType:this.netType,pageNum:e,pageSize:this.pageSize})},getTableData:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,s,i,o,l,c,u,p,d,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=h.length>1&&void 0!==h[1]&&h[1],this.tableLoading=!0,e.prev=2,e.next=5,this.$http.queryTableData(t);case 5:if(r=e.sent,console.log(r),this.tableLoading=!1,1===r.Error){e.next=11;break}return n=r.Result||r.Desc,e.abrupt("return",this.$message.error(n));case 11:this.tableData=r.Result.bill_list,this.TotalData=r.Result.Total,a&&(s=r.Result,s.bill_list,i=s.token_type,o=s.admin,l=s.estimate_fee,c=s.Sum,u=s.AdminBalance,s.Total,p=s.event_type,d=s.contract_address,this.isShowTypeFee=!0,this.tokenAddress=o,this.TotalFee=l,this.TotalCoin=c,this.AdminBalance=u,this.ruleForm.tokenType=i,this.ruleForm.contractAddress=d,this.ruleForm.eventType=p,this.changeForm.eventType=p,this.changeForm.tokenType=i,this.changeForm.contractAddress=d),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](2),this.tableLoading=!1,this.$message.error(e.t0);case 20:case"end":return e.stop()}}),e,this,[[2,16]])})));function t(t){return e.apply(this,arguments)}return t}(),getBalance:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.changeForm.eventType){e.next=2;break}return e.abrupt("return",this.$message({type:"error",message:"Please upload data or select an event first!"}));case 2:return this.fullscreenLoading=!0,e.prev=3,e.next=6,this.$http.getBalance({eventType:this.changeForm.eventType,netType:this.netType});case 6:if(t=e.sent,this.fullscreenLoading=!1,console.log(t),a=t.Desc,r=t.Error,n=t.Result,"SUCCESS"===a||1===r){e.next=12;break}return e.abrupt("return",this.$message({type:"error",message:a}));case 12:return this.AdminBalance=h({},n),e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e["catch"](3),this.fullscreenLoading=!1,e.abrupt("return",this.$message({type:"error",message:e.t0}));case 20:case"end":return e.stop()}}),e,this,[[3,16]])})));function t(){return e.apply(this,arguments)}return t}(),handlerStart:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.changeForm.eventType){e.next=2;break}return e.abrupt("return",this.$message({type:"error",message:"Please upload data or select history event"}));case 2:return t={id:1,jsonrpc:"2.0",method:"transfer",params:{eventType:this.changeForm.eventType,netType:this.netType}},this.fullscreenLoading=!0,e.prev=4,e.next=7,this.$http.startTransfer(t);case 7:if(a=e.sent,this.fullscreenLoading=!1,r=a.Desc,n=a.Error,a.Result,"SUCCESS"===r&&1===n){e.next=12;break}return e.abrupt("return",this.$message({type:"error",message:r}));case 12:return this.$store.commit("CHANGE_SUCCESS_EVENT_TYPE",this.changeForm.eventType),this.$router.push({name:"HistoryWrap"}),e.abrupt("return",this.$message({type:"success",message:"Transfer started"}));case 17:e.prev=17,e.t0=e["catch"](4),this.fullscreenLoading=!1,this.$message({type:"error",message:e.t0});case 21:case"end":return e.stop()}}),e,this,[[4,17]])})));function t(){return e.apply(this,arguments)}return t}(),resetData:function(){this.billList=[],this.AdminBalance=null,this.tokenAddress="",this.TotalCoin="",this.TotalFee="",this.TotalData=0,this.isShowTypeFee=!1,this.changeForm={eventType:"",tokenType:"",contractAddress:""},this.currentPage=1,this.pageNum=1,this.currentEvent="",this.tableData=[]},clearSelect:function(){}},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("getEventList");case 2:this.$refs.upload.addEventListener("change",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.readExcel(a);case 2:t.$refs.upload.value="";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},f=m,v=(a("cab1"),a("2877")),g=Object(v["a"])(f,r,n,!1,null,"3289f131",null);t["default"]=g.exports},a8bf:function(e,t,a){},afcd:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav_wraps"},[a("ul",[a("li",{class:"ContentWrap"===e.$route.name?"active":"",on:{click:function(t){return e.$router.push({name:"ContentWrap"})}}},[e._v(" "+e._s(e.$t("layout.nav1"))+" ")]),a("li",{class:"HistoryWrap"===e.$route.name?"active":"",on:{click:function(t){return e.$router.push({name:"HistoryWrap"})}}},[e._v(" "+e._s(e.$t("layout.nav2"))+" ")])])])},n=[],s={},i=s,o=(a("3e41"),a("2877")),l=Object(o["a"])(i,r,n,!1,null,"a19af35a",null);t["a"]=l.exports},b059:function(e,t,a){},cab1:function(e,t,a){"use strict";var r=a("a8bf"),n=a.n(r);n.a},dea7:function(e,t,a){},e19e:function(e,t,a){},f1d0:function(e,t,a){},f674:function(e,t,a){"use strict";var r=a("7b88"),n=a.n(r);n.a},f6b5:function(e,t,a){"use strict";var r=a("f1d0"),n=a.n(r);n.a},ff5c:function(e,t,a){}});
//# sourceMappingURL=app.7a5d8285.js.map